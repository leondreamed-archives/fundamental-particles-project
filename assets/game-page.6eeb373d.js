import{f as y,p as D,o as m,g as b,h as p,u as c,n as k,k as _,t as P,F as N,q as L,v as $,l as T,c as F,x as V,y as z,r as S,w as q,z as J,A as j}from"./vendor.8c0b89ba.js";import{p as R,u as C,a as Z}from"./index.a54df7a3.js";import{_ as W}from"./index.d1e314f4.js";const U={up:"u",down:"d",charm:"c",strange:"s",top:"t",bottom:"b",electron:"e",electronNeutrino:"<i>v</i><sub>e</sub>",muon:"\xB5",muonNeutrino:"<i>v</i><sub>\xB5</sub>",tau:"\u03C4",tauNeutrino:"<i>v</i><sub>\u03C4</sub>",gluon:"g",photon:"\u03B3",zBoson:"Z",wBoson:"W",higgsBoson:"H"};function E(r){return R[r]}function K(r){return U[r]}const Q=["innerHTML"],X=y({props:{particleId:null},setup(r){const e=r,n={boson:"bg-red-300",lepton:"bg-green-300",quark:"bg-purple-300"},l=D(()=>K(e.particleId)),o=D(()=>E(e.particleId));return(t,s)=>(m(),b("div",{class:k(["bg-blue-200 rounded-full w-[4.5rem] h-[4.5rem] row center text-[50px]",n[c(o).type]])},[p("div",{class:"particle-letter",innerHTML:c(l)},null,8,Q)],2))}});var H=W(X,[["__scopeId","data-v-da32646a"]]);const Y={class:"mt-1"},ee=y({props:{particleId:null},setup(r){const e=r,n=D(()=>E(e.particleId)),l=C();function o(t){var s;(s=t.dataTransfer)==null||s.setData("data",JSON.stringify({type:"particle-drop",payload:{source:{type:"dock",index:l.particleDock.indexOf(e.particleId)},particleId:e.particleId}}))}return(t,s)=>(m(),b("div",{draggable:"true",class:"rounded-md w-28 h-28 m-2 center border-2 bg-white border-black column text-center text-xs cursor-grab",onDragstart:o},[_(H,{"particle-id":r.particleId},null,8,["particle-id"]),p("span",Y,P(c(n).name),1)],32))}});function O(r){return r!==null&&typeof r=="object"?r.type==="particle-drop":!1}async function A(){await Z({particleCount:100,spread:160})}const re=["onDrop"],te={class:"row gap-3"},oe=["disabled"],se=y({setup(r){const e=C();function n(l){var t,s;const o=(s=(t=l.dataTransfer)==null?void 0:t.getData("data"))!=null?s:"";if(o!==""){const i=JSON.parse(o);if(O(i)){const{source:a,particleId:d}=i.payload;a.type==="grid"&&(e.unsetParticleGridCell({column:a.column,row:a.row}),e.particleDock.push(d))}}}return(l,o)=>(m(),b("div",{class:"column items-center pb-5 pt-5 bg-white border-t-2 border-gray-200 max-h-[50vh] overflow-y-auto",onDrop:$(n,["prevent"]),onDragover:o[2]||(o[2]=$(()=>{},["prevent"]))},[p("div",{class:k(["row flex-wrap content-start z-1 justify-center",{"mb-3":c(e).particleDock.length>0}])},[(m(!0),b(N,null,L(c(e).orderedDockParticleIds,t=>(m(),b("div",{key:t},[_(ee,{"particle-id":t},null,8,["particle-id"])]))),128))],2),p("div",te,[p("button",{class:"font-bold text-white bg-green-500 px-5 py-2 rounded-md hover:bg-green-600",onClick:o[0]||(o[0]=()=>c(e).isComplete?c(A)():c(e).checkAnswers())},P(c(e).isComplete?"Congratulations!":"Check Answers"),1),p("button",{disabled:c(e).isGridEmpty,class:k(["font-bold text-white px-5 p-2 rounded-md",[c(e).isGridEmpty?"bg-red-300 cursor-not-allowed":"bg-red-500 hover:bg-red-600"]]),onClick:o[1]||(o[1]=(...t)=>c(e).resetGame&&c(e).resetGame(...t))}," Reset ",10,oe)])],40,re))}}),ne=["draggable","onDrop"],ce={class:"row justify-between text-xs p-2"},ae=p("strong",null,"Charge:",-1),le=p("strong",null,"Spin:",-1),ie={class:"text-center text-sm pb-1"},de=p("strong",null,"Mass: ",-1),ue=["innerHTML"],pe=y({props:{currentParticleId:null,column:null,row:null},setup(r){const e=r,n=D(()=>g.getAnswerParticleIds({row:e.row,column:e.column})),l=D(()=>E(n.value[0])),o={boson:{bg:"bg-orange-50",border:"border-orange-50"},lepton:{bg:"bg-cyan-50",border:"border-cyan-50"},quark:{bg:"bg-purple-50",border:"border-purple-50"},higgs:{bg:"bg-yellow-50",border:"border-yellow-50"}},t={boson:{bg:"bg-orange-100",border:"border-orange-200"},lepton:{bg:"bg-cyan-100",border:"border-cyan-200"},quark:{bg:"bg-purple-100",border:"border-purple-200"},higgs:{bg:"bg-yellow-100",border:"border-yellow-200"}},s="border-green-500",i="border-red-500",a={empty:{border:"bg-gray-50",bg:"bg-gray-50"},occupied:{bg:"bg-gray-200",border:"border-gray-300"}},d=D(()=>{const h=e.currentParticleId===void 0?"":"cursor-grab";let u,f;if(e.currentParticleId===void 0)if(g.hardMode)u=a.empty.border,f=a.empty.bg;else if(n.value.includes("higgsBoson"))u=o.higgs.border,f=o.higgs.bg;else{const{bg:w,border:v}=o[l.value.type];u=v,f=w}else if(g.hardMode)u=a.occupied.border,f=a.occupied.bg;else if(n.value.includes("higgsBoson"))f=t.higgs.bg,u=t.higgs.border;else{const{bg:w,border:v}=t[l.value.type];f=w,u=v}return g.highlightErrors&&(e.currentParticleId===void 0&&(u=i),u=e.currentParticleId!==void 0&&n.value.includes(e.currentParticleId)?s:i),`${h} ${u} ${f}`}),g=C();function I(h){var w,v;const u=(v=(w=h.dataTransfer)==null?void 0:w.getData("data"))!=null?v:"";if(u==="")return;const f=JSON.parse(u);if(O(f)){const{payload:M}=f;if(M.source.type==="grid"){const{row:x,column:G}=M.source;g.getParticleGridCell({column:G,row:x})!==void 0&&(e.currentParticleId===void 0?g.unsetParticleGridCell({column:G,row:x}):g.setParticleGridCell({particleId:e.currentParticleId,column:G,row:x}))}else if(M.source.type==="dock"){const{index:x}=M.source;e.currentParticleId===void 0?g.particleDock.splice(x,1):g.particleDock.splice(x,1,e.currentParticleId)}g.setParticleGridCell({particleId:f.payload.particleId,column:e.column,row:e.row})}}function B(h){var u;e.currentParticleId!==void 0&&((u=h.dataTransfer)==null||u.setData("data",JSON.stringify({type:"particle-drop",payload:{particleId:e.currentParticleId,source:{type:"grid",row:e.row,column:e.column}}})))}return(h,u)=>(m(),b("div",{class:"p-2",draggable:r.currentParticleId!==void 0,onDragstart:B,onDrop:$(I,["prevent"]),onDragover:u[0]||(u[0]=$(()=>{},["prevent"]))},[p("div",{class:k(["rounded-md h-40 w-40 border-2 column justify-between",c(d)])},[p("div",ce,[p("span",null,[ae,T(" "+P(c(l).charge),1)]),p("span",null,[le,T(" "+P(c(l).spin),1)])]),r.currentParticleId!==void 0?(m(),F(H,{key:0,class:"self-center","particle-id":r.currentParticleId},null,8,["particle-id"])):V("",!0),p("div",ie,[de,p("span",{innerHTML:c(l).mass},null,8,ue)])],2)],40,ne))}}),ge={class:"overflow-y-auto overflow-x-auto column w-full"},me={class:"grid grid-rows-4 grid-cols-[repeat(5,max-content)] p-2 mx-auto"},be=y({setup(r){const e=C();return(n,l)=>(m(),b("div",ge,[p("div",me,[(m(!0),b(N,null,L(c(e).particleAnswerGrid,(o,t)=>(m(),b(N,{key:t},[(m(!0),b(N,null,L(o,(s,i)=>{var a;return m(),b("div",{key:[s].flat()[0],class:"row",style:z({"grid-row-start":t+1})},[_(pe,{"current-particle-id":(a=c(e).particleGrid[t])==null?void 0:a[i],column:i,row:t},null,8,["current-particle-id","column","row"])],4)}),128))],64))),128))])]))}});var fe="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z",he=r=>{if(typeof r!="number")throw new TypeError("Expected a number");const e=r>0?Math.floor:Math.ceil;return{days:e(r/864e5),hours:e(r/36e5)%24,minutes:e(r/6e4)%60,seconds:e(r/1e3)%60,milliseconds:e(r)%1e3,microseconds:e(r*1e3)%1e3,nanoseconds:e(r*1e6)%1e3}};const _e=he,ye=(r,e)=>e===1?r:`${r}s`,we=1e-7;var ve=(r,e={})=>{if(!Number.isFinite(r))throw new TypeError("Expected a finite number");e.colonNotation&&(e.compact=!1,e.formatSubMilliseconds=!1,e.separateMilliseconds=!1,e.verbose=!1),e.compact&&(e.secondsDecimalDigits=0,e.millisecondsDecimalDigits=0);const n=[],l=(s,i)=>{const a=Math.floor(s*10**i+we);return(Math.round(a)/10**i).toFixed(i)},o=(s,i,a,d)=>{if((n.length===0||!e.colonNotation)&&s===0&&!(e.colonNotation&&a==="m"))return;d=(d||s||"0").toString();let g,I;if(e.colonNotation){g=n.length>0?":":"",I="";const B=d.includes(".")?d.split(".")[0].length:d.length,h=n.length>0?2:1;d="0".repeat(Math.max(0,h-B))+d}else g="",I=e.verbose?" "+ye(i,s):a;n.push(g+d+I)},t=_e(r);if(o(Math.trunc(t.days/365),"year","y"),o(t.days%365,"day","d"),o(t.hours,"hour","h"),o(t.minutes,"minute","m"),e.separateMilliseconds||e.formatSubMilliseconds||!e.colonNotation&&r<1e3)if(o(t.seconds,"second","s"),e.formatSubMilliseconds)o(t.milliseconds,"millisecond","ms"),o(t.microseconds,"microsecond","\xB5s"),o(t.nanoseconds,"nanosecond","ns");else{const s=t.milliseconds+t.microseconds/1e3+t.nanoseconds/1e6,i=typeof e.millisecondsDecimalDigits=="number"?e.millisecondsDecimalDigits:0,a=s>=1?Math.round(s):Math.ceil(s),d=i?s.toFixed(i):a;o(Number.parseFloat(d,10),"millisecond","ms",d)}else{const s=r/1e3%60,i=typeof e.secondsDecimalDigits=="number"?e.secondsDecimalDigits:1,a=l(s,i),d=e.keepDecimalsOnWholeSeconds?a:a.replace(/\.0+$/,"");o(Number.parseFloat(d,10),"second","s",d)}if(n.length===0)return"0"+(e.verbose?" milliseconds":"ms");if(e.compact)return n[0];if(typeof e.unitCount=="number"){const s=e.colonNotation?"":" ";return n.slice(0,Math.max(e.unitCount,1)).join(s)}return e.colonNotation?n.join(""):n.join(" ")};const xe={class:"bg-blue-400 w-full p-2 items-center row text-white font-bold"},De=T(" Back to Menu "),Ce={class:"flex-1 text-center text-xl"},Ie=p("div",{class:"flex-1 ml-auto"},null,-1),Pe=y({setup(r){const e=C();return(n,l)=>{const o=S("v-icon"),t=S("router-link");return m(),b("div",xe,[_(t,{to:"/",class:"row cursor-pointer hover:text-gray-100 flex-1 mr-auto"},{default:q(()=>[_(o,{class:"mr-2",data:c(fe)},null,8,["data"]),De]),_:1}),p("div",Ce,P(c(ve)(c(e).secondsElapsed*1e3,{colonNotation:!0})),1),Ie])}}}),Me={class:"column h-full"},Ge=y({setup(r){const e=C();return J().query.mode==="hard"&&(e.hardMode=!0),e.startGame(),j(()=>e.isComplete,async l=>{l&&await A()}),j(e.particleGrid,()=>{e.highlightErrors=!1,e.isComplete=!1}),(l,o)=>(m(),b("div",Me,[_(Pe),_(be,{class:"m-auto"}),_(se,{class:"flex-shrink-0"})]))}});export{Ge as default};
